version: "2.0"

rules:

#activate privacy form
- rule: Activate privacy form
  steps:
  - intent: privacy_policy
  - action: utter_ask_privacy_form_service

- rule: Activate privacy form; another service
  steps:
  - intent: another_service_privacy
  - action: utter_ask_privacy_form_service

- rule: Activate privacy form; this service
  steps:
  - intent: this_service_privacy
  - action: utter_ask_privacy_form_datatype

#activate request form
- rule: Activate request form
  steps:
  - intent: requesting
  - action: utter_ask_request_form_service
  
- rule: Activate request form; another service
  steps:
  - intent: another_service_request
  - action: utter_ask_request_form_service
  

- rule: Activate request form; this service
  steps:
  - intent: this_service_request
  - action: utter_ask_request_form_datatype

#privacy path
- rule: start privacy track 
  steps: 
  - intent: privacy_policy
  - action: utter_ask_privacy_form_service

- rule: ask for datatype
  steps:
  - action: utter_ask_privacy_form_service
  - intent: services
  - action: utter_ask_privacy_form_datatype


- rule: give info if asked for datatype and ask for more datatypes; privacy
  steps:
  - action: utter_ask_privacy_form_datatype
  - intent: datatypes
  - action: action_give_privacy_info
  - action: utter_datatypes_again

- rule: ask for more datatypes; privacy
  steps:
  - action: utter_datatypes_again
  - intent: affirm
  - action: utter_ask_privacy_form_datatype
  
- rule: ask for other service; more datatypes; privacy
  steps:
  - action: utter_datatypes_again
  - intent: deny
  - action: utter_ask_service_again

- rule: ask for other service; privacy
  steps:
  - action: utter_ask_datatype_again
  - intent: deny
  - action: utter_ask_service_again

- rule: loop more services; privacy
  steps:
  - action: utter_ask_service_again
  - intent: affirm
  - action: utter_ask_privacy_form_service

- rule: no more services and ask for track change to request; privacy
  steps:
  - action: utter_ask_service_again
  - intent: deny
  - action: utter_ask_request_path

#change to request track
- rule: change to request track; ask same or another service
  steps:
  - action: utter_ask_request_path
  - intent: affirm
  - action: action_change_to_request
  - action: utter_ask_change_to_request_form_request
  
- rule: change to request track; another service
  steps:
  - action: utter_ask_change_to_request_form_request
  - intent: another_service_request
  - action: utter_ask_request_form_service

- rule: change to request track; this service
  steps:
  - action: utter_ask_change_to_request_form_request
  - intent: this_service_request
  - action: utter_ask_request_form_datatype

- rule: change to request track; no change
  steps: 
  - action: utter_ask_change_to_request_form_request
  - intent: no_service_request
  - action: utter_goodbye

- rule: no change to request track
  steps: 
  - action: utter_ask_request_path
  - intent: deny
  - action: utter_goodbye

#request track
- rule: start request track 
  steps: 
  - intent: requesting
  - action: utter_ask_request_form_service

- rule: ask for datatype; request
  steps:
  - action: utter_ask_request_form_service
  - intent: services
  - action: utter_ask_request_form_datatype

- rule: ask for authentification; request
  steps:
  - action: utter_ask_request_form_datatype
  - intent: datatypes
  - action: utter_ask_authentification
  - action: utter_ask_request_again

- rule: ask for services again, if user says so; request
  steps:
  - action: utter_ask_authentification
  - action: utter_ask_request_again
  - intent: affirm
  - action: utter_ask_request_form_service

  
- rule: ask for track change to policy track; request
  steps:
  - action: utter_ask_authentification
  - action: utter_ask_request_again
  - intent: deny
  - action: utter_ask_privacy_policy_path

#change to privacy track

- rule: change to privacy track; ask same or another service
  steps:
  - action: utter_ask_privacy_policy_path
  - intent: affirm
  - action: action_change_to_privacy
  - action: utter_ask_change_to_privacy_form_policy
  
- rule: change to privacy track; another service
  steps:
  - action: utter_ask_change_to_privacy_form_policy
  - intent: another_service_privacy
  - action: action_another_service_privacy
  - action: utter_ask_privacy_form_service

- rule: change to privacy track; this service
  steps:
  - action: utter_ask_change_to_privacy_form_policy
  - intent: this_service_privacy
  - action: action_this_service_privacy
  - action: utter_ask_privacy_form_datatype

- rule: change to privacy track; no change
  steps: 
  - action: utter_ask_change_to_privacy_form_policy
  - intent: no_service_privacy
  - action: action_no_service_privacy
  - action: utter_goodbye

- rule: say goodbye if user does not want to change for policy track
  steps:
  - action: utter_ask_privacy_policy_path
  - intent: deny
  - action: utter_goodbye

#goodbye
- rule: Say goodbye anytime the user says goodbye
  steps:
  - intent: goodbye
  - action: utter_goodbye

#I am a bot
- rule: Say 'I am a bot' anytime the user challenges
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

# bot introduction
- rule: Tell the users what they can use the bot for
  steps:
  - intent: bot_usage
  - action: utter_bot_usage
  - action: utter_ask_privacy_policy
  - action: utter_ask_requesting
  
- rule: Introduce yourself after user greets
  steps:
  - intent: greet
  - action: utter_greet
  - action: utter_bot_usage
  - action: utter_ask_privacy_policy
  - action: utter_ask_requesting
  

