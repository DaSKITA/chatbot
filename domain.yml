version: "2.0"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - mood_great
  - mood_unhappy
  - bot_challenge
  - bot_usage
  - privacy_policy
  - request
  - services
  - datatypes_privacy
  - datatypes_request
  - another_service_privacy
  - this_service_privacy
  - no_service_privacy
  - another_service_request
  - this_service_request
  - no_service_request

entities:
  - service
  - datatype
  - request
  - policy

slots:
  service:
    type: categorical
    values:
    - Google
    - Facebook
    - Amazon
    - Green Company
    
  datatype_privacy:
    type: categorical
    values:
    - metadata
    - countries
    - third parties
    - number of third parties
    - personal data
    - data protection officer
    - access to data portability
    - right to information
    - right to deletion
    - right to data portability
    - right to withdraw consent
    


  datatype_request:
    type: categorical
    values:
    - metadata
    - countries to which your data is transferred
    - third parties to which your data is transferred
    
  request:
    type: categorical
    values: 
    - Requesting at this service
    - Requesting at another service
    - No requesting at all
    
  policy:
    type: categorical
    values:
    - Policy of this service
    - Policy of another service
    - No policy at all


actions: 
- action_give_privacy_info



responses:

#exception handling
  utter_default:
  - text: "I am sorry, I did not quite understand that. Could you rephrase, please?"

# bot introduction
  utter_bot_usage:
  - text: "Welcome, I am a bot that helps you to get information about the privacy policies of different services. I can also make a request at a service about the data the service collected about you. What are you interested in?"
 
#change to privacy path
  utter_ask_privacy_policy:
  - text: "Are you interested in the privacy policy of this or another service?"

  #utter_ask_this_service_privacy:
  utter_ask_change_to_privacy_form_policy:
  - text: "Are you interested in getting information about the privacy policy at this service or at another service?"
    buttons: 
    - title: "This service"
      payload: '/this_service_privacy{"policy":"This service"}'
    - title: "Another service"
      payload: '/another_service_privacy{"policy":"Another service"}'
    - title: "I am not interested"
      payload: '/no_service_privacy{"policy":"No service"}'
    

#privacy path  
  
  utter_ask_privacy_form_service:
    - text: "Which service are you interested in?"
      buttons: 
      - title: "Google"
        payload: '/services{"service":"Google"}'
      - title: "Amazon"
        payload: '/services{"service":"Amazon"}'
      - title: "Facebook"
        payload: '/services{"service":"Facebook"}'
      - title: "Green Company"
        payload: '/services{"service":"Green Company"}'
  

  utter_ask_privacy_form_datatype:
  - text: "What data collected by this service are you interested in?"
    buttons: 
    - title: "Metadata"
      payload: '/datatypes_privacy{"datatype_privacy":"metadata"}'
    - title: "Countries to which my data is transferred"
      payload: '/datatypes_privacy{"datatype_privacy":"countries"}'
    - title: "Third parties to which my data is transferred"
      payload: '/datatypes_privacy{"datatype_privacy":"third parties"}'
    - title: "Number of third parties to which my data is transferred"
      payload: '/datatypes_privacy{"datatype_privacy":"number of third parties"}'
    - title: "Personal data that is stored"
      payload: '/datatypes_privacy{"datatype_privacy":"personal data"}'
    - title: "Data Protection Officer"
      payload: '/datatypes_privacy{"datatype_privacy":"data protection officer"}'
    - title: "Information about getting access to my data"
      payload: '/datatypes_privacy{"datatype_privacy":"access to data portability"}'
    - title: "Information about my right to information"
      payload: '/datatypes_privacy{"datatype_privacy":"right to information"}'
    - title: "Information about my right to deletion"
      payload: '/datatypes_privacy{"datatype_privacy":"right to deletion"}'
    - title: "Information about my right to data portability"
      payload: '/datatypes_privacy{"datatype_privacy":"right to data portability"}'
    - title: "Information about my right to withdraw consent"
      payload: '/datatypes_privacy{"datatype_privacy":"right to withdraw consent"}'
  
  utter_datatypes_again:
  - text: "Are you interested in other datatypes?"
  
  utter_ask_service_again:
  - text: "Are you interested in another service?"
  
#change to request path      
  utter_ask_request:
  - text: "Are you interested in making a request about the data this or another service collected about you?"
  
  #utter_ask_this_service_request:
  utter_ask_change_to_request_form_request:
  - text: "Are you interested in making a request at this service or at another service?"
    buttons: 
    - title: "This service"
      payload: '/this_service_request{"request":"This service"}'
    - title: "Another service"
      payload: '/another_service_request{"request":"Another service"}'
    - title: "I am not interested"
      payload: '/no_service_request{"request":"No service"}'


#request path
  utter_ask_request_form_service:
  - text: "Which service are you interested in?"
    buttons: 
    - title: "Google"
      payload: '/services{"service":"Google"}'
    - title: "Amazon"
      payload: '/services{"service":"Amazon"}'
    - title: "Facebook"
      payload: '/services{"service":"Facebook"}'

  utter_ask_request_form_datatype:
  - text: "What data collected by this service are you interested in?"
    buttons: 
    - title: "Metadata"
      payload: '/datatypes_request{"datatype_request":"metadata"}'
    - title: "Countries to which my data is transferred"
      payload: '/datatypes_request{"datatype_request":"countries to which your data is transferred"}'
    - title: "Third parties to which my data is transferred"
      payload: '/datatypes_request{"datatype_request":"third parties to which your data is transferred"}'
  
  utter_ask_authentification:
  - text: "What is your authentification? The request has been send ... todo"

  utter_ask_request_again:
  - text: "Are you interested in making a request for another service?"


#greeting
  utter_greet:
  - text: "Hey!"

  utter_cheer_up:
  - text: "Here is something to cheer you up:"
    image: "https://i.imgur.com/nGF1K8f.jpg"

  utter_did_that_help:
  - text: "Did that help you?"

  utter_happy:
  - text: "Great, carry on!"

#goodbye
  utter_goodbye:
  - text: "Bye, see you next time!"

  utter_iamabot:
  - text: "I am a bot, powered by Rasa."

forms:
  privacy_form:
    service:
      - type: from_entity
        entity: service
    datatype_privacy:
      - type: from_entity
        entity: datatype_privay
        
  request_form:
    service:
      - type: from_entity
        entity: service
    datatype_request:
      - type: from_entity
        entity: datatype_request
        
  change_to_request_form:
    request:
      - type: from_entity
        entity: request
        
  change_to_privacy_form:
    privacy:
      - type: from_entity
        entity: privacy

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
